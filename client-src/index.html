<!DOCTYPE html>
<html lang="en" ng-app="SketchConsole">
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link rel='stylesheet' href='./bower_components/bootstrap/dist/css/bootstrap.css'>
    <link rel='stylesheet' href='./bower_components/fontawesome/css/font-awesome.css'>
    <script src="./bower_components/jquery/dist/jquery.js"></script>
    <script src="./bower_components/angular/angular.js"></script>
    <script src="./bower_components/angular-bootstrap/ui-bootstrap-tpls.js"></script>
    <script src="./bower_components/moment/moment.js"></script>
    <script src="./bower_components/underscore/underscore.js"></script>
    <script src="./bower_components/mustache/mustache.js"></script>


    <script src="./js/controllers.js"></script>
    <script src="./js/services.js"></script>

    <link rel='stylesheet' href='./css/bs-callout.css'>
    <link rel='stylesheet' href='./css/main.css'>

    <script>


        function refreshConsoleList() {
            angular.element(document.getElementById('myBody')).scope().$apply();
            // window.scrollTo(0, document.body.scrollHeight);

            // $("#contentView").scrollTo(0, document.body.scrollHeight);
            var d = $('#contentView');
            d.scrollTop(d.prop("scrollHeight"));
        }

        function addHeaderItem(title) {
            angular.element(document.getElementById('myBody')).scope().addHeaderItem(title);
        }

        function addCustomPrintItem(contents) {
            angular.element(document.getElementById('myBody')).scope().addCustomPrintItem(contents);
        }

        function addDurationItem(duration) {
            angular.element(document.getElementById('myBody')).scope().addDurationItem(duration);
        }

        function addPrintItem(contents,pluginName,pluginFilePath,pluginRootFolderPath) {
            angular.element(document.getElementById('myBody')).scope().addItem(contents,pluginName,pluginFilePath,pluginRootFolderPath);
        }

        function addPrintItemEx(contents,filePath,line) {
            angular.element(document.getElementById('myBody')).scope().addItemEx(contents,filePath,line);
        }

        function addMochaErrorItem(contents,pluginName,pluginFilePath,pluginRootFolderPath) {

            angular.element(document.getElementById('myBody')).scope().addMochaErrorItem(contents,pluginName,pluginFilePath,pluginRootFolderPath);
            angular.element(document.getElementById('myBody')).scope().$apply();

            window.scrollTo(0, document.body.scrollHeight);
        }

        function addErrorItem(errorType,errorMessage,filePath,line,errorLineContents,callStack) {

            angular.element(document.getElementById('myBody')).scope().addErrorItem(errorType,errorMessage,filePath,line,errorLineContents,callStack);
            angular.element(document.getElementById('myBody')).scope().$apply();
            window.scrollTo(0, document.body.scrollHeight);
        }

        function clearConsole() {
            angular.element(document.getElementById('myBody')).scope().clear();
            angular.element(document.getElementById('myBody')).scope().$apply();

        }

        $(window).resize(function() {
            console.log("Resize it!");
            $("#contentView").css("height", window.innerHeight-32);

        });

        $( document ).ready(function() {
            console.log("Init it!");
            $("#contentView").css("height", window.innerHeight-32);
        });


    </script>
</head>
<body ng-controller="SketchConsoleController" id="myBody" style="overflow: hidden;">

<div class="navbar-xs">
    <div class="navbar-primary">
    <div class="navbar navbar-fixed-top navbar-sketch-toolbox" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header" style="padding-top: 1px;">
                <!--<span style="color:#545454;"><small><strong>Sketch DevTools: Console</strong></small></span>-->
                <!--
                <img src="./images/console-icon.png" style="vertical-align: top;padding-top: 5px;margin-right: 3px;">
                -->
                <div class="sketch-toolbox-console-icon"></div>
                <span class="sketch-devtools-console-title">Sketch DevTools: Console</span>
            </div>

            <div class="navbar-collapse">
                <form class="navbar-right" role="form">
                    <button class="sketch-toolbox-clear-button" ng-click="clear()"></button>
                    <button class="sketch-toolbox-settings-button" ng-click="showSettings()" style="margin-left: 4px;margin-right: 6px;"></button>
                    <button class="sketch-toolbox-close-button" ng-click="hideConsole()"></button>
                </form>
            </div>
        </div>
    </div>
        </div>
</div>



<div class="container-fluid" style="padding-top: 30px;">
    <div style="overflow-y: auto; overflow-x: hidden;" id="contentView">
        <div class="row" ng-if="showLogo()">
            <div class="col-md-12" style="position: relative;">
                <img src="images/background-logo.png" class="background-logo">
            </div>
        </div>
        <div class="row" ng-repeat="item in items" ng-bind-html="renderHtml(item)" style="border-bottom: 1px solid #F0F0F0; padding-top: 2px; padding-bottom: 2px;"></div>

        <!--
        <i class="fa fa-exclamation-circle"></i>
        <span style='color: #FF0000;'><i class='fa fa-times-circle'></i></span>

        <span style="color: #F2AE43;"><i class="fa fa-exclamation-triangle "></i></span>
        <span style="color: #3E8ACC;"><i class="fa fa-info-circle"></i></span>
        -->

    </div>
    <!-- Custom Script Field -->
    <!--
    <div class="row">
        <div class="col-md-11">
            <form role="form" accept-charset="utf-8">
                <div class="form-group">
                    <textarea class="form-control" rows="10" ng-model="customScript" autocorrect="off" autocomplete="off" spellcheck="false" style="overflow-y: hidden; height: 250x;"></textarea>
                 </div>
            </form>

        </div>
        <div class="col-md-1">
            <button class="btn btn-success pull-right" ng-click="runCustomScript()">Run Script</button>
        </div>
    </div>
    -->


</div>


<a id="bottom"></a>
</body>
</html>

